@import '../variables';
@import '../mixins';

// 输入框prefix&suffix 切换两种图标状态
@mixin prefix-suffix-active-toggle($isActive) {
  .icon{
    &.x-ant-input-icon-active {
      @if $isActive { display: inline-block; }
      @else { display: none; }
    }
    &.x-ant-input-icon-inactive {
      @if $isActive { display: none; }
      @else { display: inline-block; }
    }
  }
}

.smartui-input:not(.raw) {
  // input输入框(输入框没有伪元素，只能用border)
  .ant-input, &.ant-input {
    @include input-underline($color-line-bold);
    // 自动填充样式配置
    &:-webkit-autofill {
      -webkit-box-shadow: 0 0 0px 1000px transparent  inset !important;
      background-color:transparent;
      background-image: none;
      transition: background-color 50000s ease-in-out 0s; //背景色透明  生效时长  过渡效果  启用时延迟的时间
    }
    // placeholder
    &::placeholder {
      color: $color-text-comment;
    }
    // hover
    &:hover {
      @include input-underline($color-primary-black);
    }
    // focus
    &:focus {
      @include input-underline($color-primary-blue);
    }
  }


  .ant-input-affix-wrapper, &.ant-input-affix-wrapper {
    &:not(.ant-input-search) {
      @include input-underline($color-line-bold);
      overflow: hidden;
      // prefix
      .ant-input-prefix {
        @include prefix-suffix-active-toggle(false);
      }
      // 输入框本体
      .ant-input {
        box-shadow: none !important;
        border: none;
      }
      // suffix
      .ant-input-suffix {
        @include prefix-suffix-active-toggle(false);
      }

      // 输入框hover
      &:hover{
        @include input-underline($color-primary-black);
      }
    }
    &-focused, &-focused:hover, &:focus {
      &:not(.ant-input-search) {
        // 下划线
        @include input-underline($color-primary-blue);
        // prefix
        .ant-input-prefix {
          @include prefix-suffix-active-toggle(true);
        }
        // suffix
        .ant-input-suffix {
          @include prefix-suffix-active-toggle(true);
        }
      }
    }
  }

  .ant-input-search {
    height: 30px !important;
    .ant-input {
      height: 100% !important;
    }
  }
}
